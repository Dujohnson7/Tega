{"ast":null,"code":"import _objectSpread from\"D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import jsPDF from\"jspdf\";import autoTable from\"jspdf-autotable\";import QRCode from\"qrcode\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const generateTicketNumber=()=>{const timestamp=Date.now().toString(36);const randomStr=Math.random().toString(36).substr(2,5);return\"TKT-\".concat(timestamp,\"-\").concat(randomStr).toUpperCase();};export default function TicketAdd(){const history=useHistory();const[ticketData,setTicketData]=useState({ticketNumber:generateTicketNumber(),names:\"\",phone:\"\",express:\"\",schedule:\"\",busPlateNo:\"\",seatNo:\"\",totalAmount:0,payState:\"PAID\"});const[expressList,setExpressList]=useState([]);const[scheduleList,setScheduleList]=useState([]);const[busList,setBusList]=useState([]);const[role,setRole]=useState(\"\");const[existingTickets,setExistingTickets]=useState([]);const[loading,setLoading]=useState(true);const[availableSeats,setAvailableSeats]=useState(0);const[error,setError]=useState(\"\");useEffect(()=>{const fetchData=async()=>{try{const token=localStorage.getItem(\"token\");const expressId=localStorage.getItem(\"expressId\");let userRole=\"\";const userObj=localStorage.getItem(\"user\");if(userObj){const user=JSON.parse(userObj);userRole=user.role?user.role.toUpperCase():\"\";}else{userRole=localStorage.getItem(\"role\")?localStorage.getItem(\"role\").toUpperCase():\"\";}setRole(userRole);const expressResponse=await fetch(\"http://localhost:5000/api/express/all\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(!expressResponse.ok){if(expressResponse.status===403){throw new Error(\"Access forbidden. Please check your authentication.\");}throw new Error(\"Cannot fetch express list\");}const expresses=await expressResponse.json();setExpressList(expresses);let schedules=[];let scheduleResponse;try{scheduleResponse=await fetch(\"http://localhost:5000/api/tickets/schedule\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\",\"X-Express-Id\":expressId||\"\"}});if(!scheduleResponse.ok){scheduleResponse=await fetch(\"http://localhost:5000/api/tickets/schedule\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\",\"X-Express-Id\":expressId||\"\"}});}if(!scheduleResponse.ok){if(scheduleResponse.status===403){throw new Error(\"Access forbidden to schedules. Check your permissions.\");}throw new Error(\"Cannot fetch schedule list\");}schedules=await scheduleResponse.json();}catch(scheduleError){console.error(\"Schedule fetch error:\",scheduleError);schedules=[];}const today=new Date();const filteredSchedules=schedules.filter(sch=>{if(!sch||!sch.date||!sch.time)return false;const scheduleDateTime=new Date(\"\".concat(sch.date,\"T\").concat(sch.time));const isNotExpired=scheduleDateTime>=today;const matchesExpress=userRole===\"SUPER_ADMIN\"?true:sch.express&&sch.express.id===expressId;return isNotExpired&&matchesExpress&&sch.express;});const finalSchedules=userRole!==\"SUPER_ADMIN\"&&expressId?filteredSchedules.filter(sch=>sch.express&&sch.express.id===expressId):filteredSchedules;setScheduleList(finalSchedules);try{const busResponse=await fetch(\"http://localhost:5000/api/tickets/bus\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\",\"X-Express-Id\":expressId||\"\"}});if(busResponse.ok){setBusList(await busResponse.json());}}catch(busError){console.error(\"Bus fetch error:\",busError);}try{const ticketsResponse=await fetch(\"http://localhost:5000/api/tickets/all\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(ticketsResponse.ok){setExistingTickets(await ticketsResponse.json());}}catch(ticketError){console.error(\"Tickets fetch error:\",ticketError);}if(userRole!==\"SUPER_ADMIN\"&&expressId){setTicketData(prev=>_objectSpread(_objectSpread({},prev),{},{express:expressId}));}setLoading(false);}catch(error){console.error(\"Error fetching data:\",error);setError(error.message);setLoading(false);alert(\"Error: \"+error.message);}};fetchData();},[]);useEffect(()=>{if(!ticketData.schedule)return;const selectedSchedule=scheduleList.find(s=>s.id===ticketData.schedule);if(!selectedSchedule||!selectedSchedule.bus)return;const bookedSeats=existingTickets.filter(t=>t.schedule&&t.schedule.id===ticketData.schedule).map(t=>t.seatNo);const remainingSeats=selectedSchedule.bus.busSize-1-bookedSeats.length;setAvailableSeats(remainingSeats);const nextSeat=[];for(let i=1;i<=selectedSchedule.bus.busSize;i++){if(!bookedSeats.includes(i)){nextSeat.push(i);}}setTicketData(prev=>_objectSpread(_objectSpread({},prev),{},{seatNo:nextSeat.length>0?nextSeat[0]:\"\",busPlateNo:selectedSchedule.bus.plateNo,totalAmount:selectedSchedule.destination.cost||0}));},[ticketData.schedule,scheduleList,existingTickets]);useEffect(()=>{if(role!==\"SUPER_ADMIN\"||!ticketData.express)return;const fetchSchedulesForExpress=async()=>{try{const token=localStorage.getItem(\"token\");let scheduleResponse=await fetch(\"http://localhost:5000/api/tickets/schedule\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\",\"X-Express-Id\":ticketData.express}});if(!scheduleResponse.ok){scheduleResponse=await fetch(\"http://localhost:5000/api/tickets/schedule\",{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\",\"X-Express-Id\":ticketData.express}});}if(!scheduleResponse.ok)throw new Error(\"Cannot fetch schedules for express\");const schedules=await scheduleResponse.json();const today=new Date();const filteredSchedules=schedules.filter(sch=>{if(!sch||!sch.date)return false;const scheduleDate=new Date(sch.date);return scheduleDate>=today&&sch.express&&sch.express.id===ticketData.express&&sch.express;});setScheduleList(filteredSchedules);}catch(error){console.error(\"Error fetching schedules:\",error);setError(error.message);}};fetchSchedulesForExpress();},[ticketData.express,role]);const generateQRCodeData=(ticket,selectedSchedule,selectedExpress)=>{const formatDate=dateString=>{const date=new Date(dateString);return\"\".concat(date.getMonth()+1,\"/\").concat(date.getDate(),\"/\").concat(date.getFullYear());};const qrData=\"\\n      Ticket: \".concat(ticket.ticketNumber,\"\\n      Express: \").concat(selectedExpress.expressName,\"\\n      Route: \").concat(selectedSchedule.destination.fromLocation,\" - \").concat(selectedSchedule.destination.toLocation,\"\\n      Time: \").concat(selectedSchedule.time,\"\\n      Date: \").concat(formatDate(ticket.date),\"\\n      Bus: \").concat(ticket.busPlateNo,\"\\n      Seat: \").concat(ticket.seatNo,\"\\n      Passenger: \").concat(ticket.names,\"\\n      Amount: \").concat(ticket.totalAmount,\" Rwf\\n      Status: \").concat(ticket.payState,\"\\n\\n      Powered By TEGABUS\\n    \").trim();return qrData;};const generateQRCodeImage=async qrCodeData=>{try{const qrCodeDataURL=await QRCode.toDataURL(qrCodeData,{width:120,margin:1,color:{dark:'#2c3e50',light:'#ffffff'}});return qrCodeDataURL;}catch(error){console.error(\"Error generating QR code:\",error);throw error;}};const generatePDF=async ticket=>{const selectedSchedule=scheduleList.find(s=>s.id===ticket.schedule.id);const selectedExpress=expressList.find(e=>e.id===ticket.express.id);if(!selectedSchedule||!selectedExpress){console.error(\"Missing schedule or express data:\",{selectedSchedule,selectedExpress});alert(\"Cannot generate PDF: Missing schedule or express data.\");return;}const logoUrl=\"http://localhost:5000/uploads/\".concat(selectedExpress.expressLogo);const doc=new jsPDF();const qrCodeData=generateQRCodeData(ticket,selectedSchedule,selectedExpress);doc.setFillColor(74,107,136);doc.rect(0,0,210,25,'F');doc.setFontSize(20);doc.setTextColor(255,255,255);doc.setFont(undefined,'bold');doc.text(\"\".concat(selectedExpress.expressName||\"N/A\"),105,12,{align:\"center\"});doc.setFontSize(10);doc.setTextColor(255,255,255);doc.text(\"Premium Travel Experience\",105,18,{align:\"center\"});doc.setDrawColor(200,200,200);doc.setFillColor(255,255,255);doc.roundedRect(10,30,190,130,8,8,'FD');doc.setDrawColor(74,107,136);doc.setLineWidth(1);doc.roundedRect(12,32,186,126,6,6,'S');doc.setFillColor(74,107,136);doc.roundedRect(15,35,180,15,4,4,'F');doc.setFontSize(16);doc.setTextColor(255,255,255);doc.setFont(undefined,'bold');doc.text(\"ELECTRONIC TICKET\",105,45,{align:\"center\"});doc.setFillColor(240,240,240);doc.roundedRect(70,55,70,8,4,4,'F');doc.setFontSize(10);doc.setTextColor(74,107,136);doc.setFont(undefined,'bold');doc.text(\"Ticket #: \".concat(ticket.ticketNumber||\"N/A\"),105,60,{align:\"center\"});try{const qrCodeDataURL=await generateQRCodeImage(qrCodeData);doc.setFillColor(250,250,250);doc.roundedRect(135,70,60,80,5,5,'F');doc.setDrawColor(200,200,200);doc.roundedRect(135,70,60,80,5,5,'S');doc.addImage(qrCodeDataURL,'PNG',140,75,50,50);doc.setFontSize(9);doc.setTextColor(100,100,100);doc.text(\"Scan Me\",165,130,{align:\"center\"});}catch(error){console.error(\"Error generating QR code:\",error);doc.setFontSize(8);doc.setTextColor(0,0,0);doc.text(\"QR Code Error\",160,85,{align:\"center\"});}doc.setFontSize(12);doc.setTextColor(74,107,136);doc.setFont(undefined,'bold');doc.text(\"PASSENGER DETAILS\",65,75);doc.setDrawColor(74,107,136);doc.setLineWidth(0.5);doc.line(20,78,130,78);doc.setFontSize(10);doc.setTextColor(0,0,0);doc.setFont(undefined,'normal');doc.text(\"Name: \".concat(ticket.names||\"-\"),20,85);doc.text(\"Phone: \".concat(ticket.phone||\"-\"),20,92);doc.setFontSize(12);doc.setTextColor(74,107,136);doc.setFont(undefined,'bold');doc.text(\"JOURNEY INFORMATION\",65,110);doc.line(20,113,130,113);doc.setFontSize(10);doc.setTextColor(0,0,0);doc.setFont(undefined,'normal');doc.text(\"Route: \".concat(selectedSchedule.destination.fromLocation,\" - \").concat(selectedSchedule.destination.toLocation),20,120);doc.text(\"Time: \".concat(selectedSchedule.time||\"-\"),20,127);doc.text(\"Date: \".concat(selectedSchedule.date?new Date(selectedSchedule.date).toLocaleDateString():\"-\"),20,134);doc.text(\"Bus: \".concat(ticket.busPlateNo||\"-\"),20,141);doc.text(\"Seat: \".concat(ticket.seatNo||\"-\"),80,141);if(ticket.payState===\"PAID\"){doc.setFillColor(76,175,80);}else{doc.setFillColor(244,67,54);}doc.roundedRect(20,148,50,8,4,4,'F');doc.setFontSize(10);doc.setTextColor(255,255,255);doc.text(\"Status: \".concat(ticket.payState||\"PENDING\"),45,153,{align:\"center\"});doc.setFontSize(10);doc.setTextColor(0,0,0);doc.text(\"Price: \".concat(ticket.totalAmount||0,\" Rwf\"),100,153);doc.setFillColor(74,107,136);doc.rect(0,165,210,15,'F');doc.setFontSize(11);doc.setTextColor(255,255,255);doc.text(\"Powered By TEGABUS\",105,172,{align:\"center\"});doc.setFillColor(44,62,80);for(let i=0;i<210;i+=10){doc.circle(i,180,1,'F');}doc.setFontSize(8);doc.setTextColor(150,150,150);doc.text(\"Please present this ticket during boarding • Please come early if you delay Ticket will be Expired • Thank you for traveling with us!\",105,185,{align:\"center\"});doc.text(\"Generated on \"+new Date().toLocaleString(),105,190,{align:\"center\"});try{doc.addImage(logoUrl,\"PNG\",175,3,25,20,undefined,'FAST');}catch(error){console.error(\"Error adding logo to PDF:\",error);}doc.save(\"ticket_\".concat(ticket.ticketNumber||\"unknown\",\".pdf\"));const pdfOutput=doc.output(\"bloburl\");const printWindow=window.open(pdfOutput);if(printWindow){printWindow.onload=()=>{printWindow.print();setTimeout(()=>{printWindow.close();},500);};}else{console.error(\"Failed to open print window. Ensure pop-ups are allowed.\");}};const handleInputChange=e=>{const{name,value}=e.target;setTicketData(_objectSpread(_objectSpread({},ticketData),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();if(!ticketData.seatNo){return alert(\"No seats available for the selected schedule.\");}try{const token=localStorage.getItem(\"token\");const payload={ticketNumber:ticketData.ticketNumber,names:ticketData.names,phone:ticketData.phone,express:{id:ticketData.express},schedule:{id:ticketData.schedule},busPlateNo:ticketData.busPlateNo,seatNo:parseInt(ticketData.seatNo),totalAmount:parseFloat(ticketData.totalAmount),payState:ticketData.payState};console.log(\"Payload sent to backend:\",payload);const response=await fetch(\"http://localhost:5000/api/tickets/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify(payload)});if(!response.ok){const errorText=await response.text();throw new Error(errorText||\"Failed to save ticket\");}const savedTicket=await response.json();alert(\"Ticket added successfully!\");if(savedTicket.payState!==\"PENDING\"){await generatePDF(savedTicket);}history.push(\"/admin/tickets\");}catch(error){console.error(error);alert(\"Error saving ticket: \"+error.message);}};const handleCancel=()=>history.push(\"/admin/tickets\");if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center p-6\",children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-t bg-white mb-0 px-6 py-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-blueGray-700 text-xl font-bold\",children:\"Add New Ticket\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,className:\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",children:\"Back\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mx-6 mt-4\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"font-bold\",children:\"Error: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"block sm:inline\",children:error})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex-auto px-4 lg:px-10 py-10 pt-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Passenger Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"names\",value:ticketData.names,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:ticketData.phone,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg\"})]}),role===\"SUPER_ADMIN\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Express *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"express\",value:ticketData.express,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Express\"}),expressList.map(exp=>/*#__PURE__*/_jsx(\"option\",{value:exp.id,children:exp.expressName},exp.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Schedule *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"schedule\",value:ticketData.schedule,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Schedule\"}),scheduleList.map(sch=>/*#__PURE__*/_jsxs(\"option\",{value:sch.id,children:[sch.destination.fromLocation,\" - \",sch.destination.toLocation,\" (\",sch.date,\" \",sch.time,\")\"]},sch.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Bus Plate Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"busPlateNo\",value:ticketData.busPlateNo,readOnly:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Seat Number * (Available: \",availableSeats,\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"seatNo\",value:ticketData.seatNo||\"\",readOnly:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Cost *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"totalAmount\",value:ticketData.totalAmount,readOnly:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Payment Status *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"payState\",value:ticketData.payState,onChange:handleInputChange,required:true,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"PENDING\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PAID\",children:\"Paid\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCancel,className:\"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancel\"}),\"\\xA0 \\xA0 \\xA0\",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"px-6 py-3 bg-black text-white rounded-lg hover:bg-black-700 transition-colors\",disabled:availableSeats===0,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-ticket-alt mr-2\"}),\" Save\"]})]})]})]})})});}","map":{"version":3,"names":["React","useState","useEffect","useHistory","jsPDF","autoTable","QRCode","jsx","_jsx","jsxs","_jsxs","generateTicketNumber","timestamp","Date","now","toString","randomStr","Math","random","substr","concat","toUpperCase","TicketAdd","history","ticketData","setTicketData","ticketNumber","names","phone","express","schedule","busPlateNo","seatNo","totalAmount","payState","expressList","setExpressList","scheduleList","setScheduleList","busList","setBusList","role","setRole","existingTickets","setExistingTickets","loading","setLoading","availableSeats","setAvailableSeats","error","setError","fetchData","token","localStorage","getItem","expressId","userRole","userObj","user","JSON","parse","expressResponse","fetch","method","headers","Authorization","ok","status","Error","expresses","json","schedules","scheduleResponse","scheduleError","console","today","filteredSchedules","filter","sch","date","time","scheduleDateTime","isNotExpired","matchesExpress","id","finalSchedules","busResponse","busError","ticketsResponse","ticketError","prev","_objectSpread","message","alert","selectedSchedule","find","s","bus","bookedSeats","t","map","remainingSeats","busSize","length","nextSeat","i","includes","push","plateNo","destination","cost","fetchSchedulesForExpress","scheduleDate","generateQRCodeData","ticket","selectedExpress","formatDate","dateString","getMonth","getDate","getFullYear","qrData","expressName","fromLocation","toLocation","trim","generateQRCodeImage","qrCodeData","qrCodeDataURL","toDataURL","width","margin","color","dark","light","generatePDF","e","logoUrl","expressLogo","doc","setFillColor","rect","setFontSize","setTextColor","setFont","undefined","text","align","setDrawColor","roundedRect","setLineWidth","addImage","line","toLocaleDateString","circle","toLocaleString","save","pdfOutput","output","printWindow","window","open","onload","print","setTimeout","close","handleInputChange","name","value","target","handleSubmit","preventDefault","payload","parseInt","parseFloat","log","response","body","stringify","errorText","savedTicket","handleCancel","className","children","onClick","onSubmit","type","onChange","required","exp","readOnly","disabled"],"sources":["D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/src/views/admin/TicketAdd.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport QRCode from \"qrcode\";\r\n \r\nconst generateTicketNumber = () => {\r\n  const timestamp = Date.now().toString(36);\r\n  const randomStr = Math.random().toString(36).substr(2, 5);\r\n  return `TKT-${timestamp}-${randomStr}`.toUpperCase();\r\n};\r\n\r\nexport default function TicketAdd() {\r\n  const history = useHistory();\r\n\r\n  const [ticketData, setTicketData] = useState({\r\n    ticketNumber: generateTicketNumber(), \r\n    names: \"\",\r\n    phone: \"\",\r\n    express: \"\",\r\n    schedule: \"\",\r\n    busPlateNo: \"\",\r\n    seatNo: \"\",\r\n    totalAmount: 0,\r\n    payState: \"PAID\", \r\n  });\r\n\r\n  const [expressList, setExpressList] = useState([]);\r\n  const [scheduleList, setScheduleList] = useState([]);\r\n  const [busList, setBusList] = useState([]);\r\n  const [role, setRole] = useState(\"\");\r\n  const [existingTickets, setExistingTickets] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [availableSeats, setAvailableSeats] = useState(0);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const expressId = localStorage.getItem(\"expressId\");\r\n \r\n        let userRole = \"\";\r\n        const userObj = localStorage.getItem(\"user\");\r\n        if (userObj) {\r\n          const user = JSON.parse(userObj);\r\n          userRole = user.role ? user.role.toUpperCase() : \"\";\r\n        } else {\r\n          userRole = localStorage.getItem(\"role\") ? localStorage.getItem(\"role\").toUpperCase() : \"\";\r\n        }\r\n        setRole(userRole);\r\n \r\n        const expressResponse = await fetch(\"http://localhost:5000/api/express/all\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n        });\r\n\r\n        if (!expressResponse.ok) {\r\n          if (expressResponse.status === 403) {\r\n            throw new Error(\"Access forbidden. Please check your authentication.\");\r\n          }\r\n          throw new Error(\"Cannot fetch express list\");\r\n        }\r\n\r\n        const expresses = await expressResponse.json();\r\n        setExpressList(expresses);\r\n \r\n        let schedules = [];\r\n        let scheduleResponse;\r\n\r\n        try {\r\n          scheduleResponse = await fetch(\"http://localhost:5000/api/tickets/schedule\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"application/json\",\r\n              \"X-Express-Id\": expressId || \"\"\r\n            },\r\n          });\r\n\r\n          if (!scheduleResponse.ok) {\r\n            scheduleResponse = await fetch(\"http://localhost:5000/api/tickets/schedule\", {\r\n              method: \"GET\",\r\n              headers: {\r\n                Authorization: `Bearer ${token}`,\r\n                \"Content-Type\": \"application/json\",\r\n                \"X-Express-Id\": expressId || \"\"\r\n              },\r\n            });\r\n          }\r\n\r\n          if (!scheduleResponse.ok) {\r\n            if (scheduleResponse.status === 403) {\r\n              throw new Error(\"Access forbidden to schedules. Check your permissions.\");\r\n            }\r\n            throw new Error(\"Cannot fetch schedule list\");\r\n          }\r\n\r\n          schedules = await scheduleResponse.json();\r\n        } catch (scheduleError) {\r\n          console.error(\"Schedule fetch error:\", scheduleError);\r\n          schedules = [];\r\n        }\r\n\r\n        const today = new Date();\r\n        const filteredSchedules = schedules.filter((sch) => {\r\n          if (!sch || !sch.date || !sch.time) return false;\r\n           \r\n          const scheduleDateTime = new Date(`${sch.date}T${sch.time}`);\r\n          \r\n          const isNotExpired = scheduleDateTime >= today;\r\n          const matchesExpress = userRole === \"SUPER_ADMIN\" ? true : (sch.express && sch.express.id === expressId);\r\n          return isNotExpired && matchesExpress && sch.express;\r\n        });\r\n\r\n        const finalSchedules = userRole !== \"SUPER_ADMIN\" && expressId\r\n          ? filteredSchedules.filter((sch) => sch.express && sch.express.id === expressId)\r\n          : filteredSchedules;\r\n\r\n        setScheduleList(finalSchedules);\r\n \r\n        try {\r\n          const busResponse = await fetch(\"http://localhost:5000/api/tickets/bus\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"application/json\",\r\n              \"X-Express-Id\": expressId || \"\"\r\n            },\r\n          });\r\n\r\n          if (busResponse.ok) {\r\n            setBusList(await busResponse.json());\r\n          }\r\n        } catch (busError) {\r\n          console.error(\"Bus fetch error:\", busError);\r\n        }\r\n \r\n        try {\r\n          const ticketsResponse = await fetch(\"http://localhost:5000/api/tickets/all\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n          });\r\n\r\n          if (ticketsResponse.ok) {\r\n            setExistingTickets(await ticketsResponse.json());\r\n          }\r\n        } catch (ticketError) {\r\n          console.error(\"Tickets fetch error:\", ticketError);\r\n        }\r\n\r\n        if (userRole !== \"SUPER_ADMIN\" && expressId) {\r\n          setTicketData((prev) => ({ ...prev, express: expressId }));\r\n        }\r\n\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        setError(error.message);\r\n        setLoading(false);\r\n        alert(\"Error: \" + error.message);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!ticketData.schedule) return;\r\n\r\n    const selectedSchedule = scheduleList.find((s) => s.id === ticketData.schedule);\r\n    if (!selectedSchedule || !selectedSchedule.bus) return;\r\n\r\n    const bookedSeats = existingTickets\r\n      .filter((t) => t.schedule && t.schedule.id === ticketData.schedule)\r\n      .map((t) => t.seatNo);\r\n\r\n    const remainingSeats = (( selectedSchedule.bus.busSize) -1) - bookedSeats.length;\r\n    setAvailableSeats(remainingSeats);\r\n\r\n    const nextSeat = [];\r\n    for (let i = 1; i <= selectedSchedule.bus.busSize; i++) {\r\n      if (!bookedSeats.includes(i)) {\r\n        nextSeat.push(i);\r\n      }\r\n    }\r\n    setTicketData((prev) => ({\r\n      ...prev,\r\n      seatNo: nextSeat.length > 0 ? nextSeat[0] : \"\",\r\n      busPlateNo: selectedSchedule.bus.plateNo,\r\n      totalAmount: selectedSchedule.destination.cost || 0,\r\n    }));\r\n  }, [ticketData.schedule, scheduleList, existingTickets]);\r\n\r\n  useEffect(() => {\r\n    if (role !== \"SUPER_ADMIN\" || !ticketData.express) return;\r\n\r\n    const fetchSchedulesForExpress = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        let scheduleResponse = await fetch(\"http://localhost:5000/api/tickets/schedule\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-Express-Id\": ticketData.express\r\n          },\r\n        });\r\n\r\n        if (!scheduleResponse.ok) {\r\n          scheduleResponse = await fetch(\"http://localhost:5000/api/tickets/schedule\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              \"Content-Type\": \"application/json\",\r\n              \"X-Express-Id\": ticketData.express\r\n            },\r\n          });\r\n        }\r\n\r\n        if (!scheduleResponse.ok) throw new Error(\"Cannot fetch schedules for express\");\r\n\r\n        const schedules = await scheduleResponse.json();\r\n\r\n        const today = new Date();\r\n        const filteredSchedules = schedules.filter((sch) => {\r\n          if (!sch || !sch.date) return false;\r\n\r\n          const scheduleDate = new Date(sch.date);\r\n          return scheduleDate >= today && sch.express && sch.express.id === ticketData.express && sch.express;\r\n        });\r\n\r\n        setScheduleList(filteredSchedules);\r\n      } catch (error) {\r\n        console.error(\"Error fetching schedules:\", error);\r\n        setError(error.message);\r\n      }\r\n    };\r\n\r\n    fetchSchedulesForExpress();\r\n  }, [ticketData.express, role]);\r\n\r\n  const generateQRCodeData = (ticket, selectedSchedule, selectedExpress) => {\r\n    const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}`;\r\n  };\r\n\r\n    const qrData = `\r\n      Ticket: ${ticket.ticketNumber}\r\n      Express: ${selectedExpress.expressName}\r\n      Route: ${selectedSchedule.destination.fromLocation} - ${selectedSchedule.destination.toLocation}\r\n      Time: ${selectedSchedule.time}\r\n      Date: ${formatDate(ticket.date)}\r\n      Bus: ${ticket.busPlateNo}\r\n      Seat: ${ticket.seatNo}\r\n      Passenger: ${ticket.names}\r\n      Amount: ${ticket.totalAmount} Rwf\r\n      Status: ${ticket.payState}\r\n\r\n      Powered By TEGABUS\r\n    `.trim();\r\n\r\n    return qrData;\r\n  };\r\n\r\n  const generateQRCodeImage = async (qrCodeData) => {\r\n    try {\r\n      const qrCodeDataURL = await QRCode.toDataURL(qrCodeData, {\r\n        width: 120,\r\n        margin: 1,\r\n        color: {\r\n          dark: '#2c3e50',\r\n          light: '#ffffff'\r\n        }\r\n      });\r\n      return qrCodeDataURL;\r\n    } catch (error) {\r\n      console.error(\"Error generating QR code:\", error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const generatePDF = async (ticket) => {\r\n    const selectedSchedule = scheduleList.find((s) => s.id === ticket.schedule.id);\r\n    const selectedExpress = expressList.find((e) => e.id === ticket.express.id);\r\n\r\n    if (!selectedSchedule || !selectedExpress) {\r\n      console.error(\"Missing schedule or express data:\", { selectedSchedule, selectedExpress });\r\n      alert(\"Cannot generate PDF: Missing schedule or express data.\");\r\n      return;\r\n    }\r\n\r\n    const logoUrl = `http://localhost:5000/uploads/${selectedExpress.expressLogo}`;\r\n    const doc = new jsPDF();\r\n\r\n    const qrCodeData = generateQRCodeData(ticket, selectedSchedule, selectedExpress);\r\n\r\n    doc.setFillColor(74, 107, 136);\r\n    doc.rect(0, 0, 210, 25, 'F');\r\n\r\n    doc.setFontSize(20);\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.setFont(undefined, 'bold');\r\n    doc.text(`${selectedExpress.expressName || \"N/A\"}`, 105, 12, { align: \"center\" });\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.text(\"Premium Travel Experience\", 105, 18, { align: \"center\" });\r\n\r\n    doc.setDrawColor(200, 200, 200);\r\n    doc.setFillColor(255, 255, 255);\r\n    doc.roundedRect(10, 30, 190, 130, 8, 8, 'FD');\r\n\r\n    doc.setDrawColor(74, 107, 136);\r\n    doc.setLineWidth(1);\r\n    doc.roundedRect(12, 32, 186, 126, 6, 6, 'S');\r\n\r\n    doc.setFillColor(74, 107, 136);\r\n    doc.roundedRect(15, 35, 180, 15, 4, 4, 'F');\r\n\r\n    doc.setFontSize(16);\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.setFont(undefined, 'bold');\r\n    doc.text(\"ELECTRONIC TICKET\", 105, 45, { align: \"center\" });\r\n\r\n    doc.setFillColor(240, 240, 240);\r\n    doc.roundedRect(70, 55, 70, 8, 4, 4, 'F');\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(74, 107, 136);\r\n    doc.setFont(undefined, 'bold');\r\n    doc.text(`Ticket #: ${ticket.ticketNumber || \"N/A\"}`, 105, 60, { align: \"center\" });\r\n\r\n    try {\r\n      const qrCodeDataURL = await generateQRCodeImage(qrCodeData);\r\n\r\n      doc.setFillColor(250, 250, 250);\r\n      doc.roundedRect(135, 70, 60, 80, 5, 5, 'F');\r\n      doc.setDrawColor(200, 200, 200);\r\n      doc.roundedRect(135, 70, 60, 80, 5, 5, 'S');\r\n\r\n      doc.addImage(qrCodeDataURL, 'PNG', 140, 75, 50, 50);\r\n\r\n      doc.setFontSize(9);\r\n      doc.setTextColor(100, 100, 100);\r\n      doc.text(\"Scan Me\", 165, 130, { align: \"center\" });\r\n    } catch (error) {\r\n      console.error(\"Error generating QR code:\", error);\r\n      doc.setFontSize(8);\r\n      doc.setTextColor(0, 0, 0);\r\n      doc.text(\"QR Code Error\", 160, 85, { align: \"center\" });\r\n    }\r\n\r\n    doc.setFontSize(12);\r\n    doc.setTextColor(74, 107, 136);\r\n    doc.setFont(undefined, 'bold');\r\n    doc.text(\"PASSENGER DETAILS\", 65, 75);\r\n\r\n    doc.setDrawColor(74, 107, 136);\r\n    doc.setLineWidth(0.5);\r\n    doc.line(20, 78, 130, 78);\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(0, 0, 0);\r\n    doc.setFont(undefined, 'normal');\r\n    doc.text(`Name: ${ticket.names || \"-\"}`, 20, 85);\r\n    doc.text(`Phone: ${ticket.phone || \"-\"}`, 20, 92);\r\n\r\n    doc.setFontSize(12);\r\n    doc.setTextColor(74, 107, 136);\r\n    doc.setFont(undefined, 'bold');\r\n    doc.text(\"JOURNEY INFORMATION\", 65, 110);\r\n\r\n    doc.line(20, 113, 130, 113);\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(0, 0, 0);\r\n    doc.setFont(undefined, 'normal');\r\n    doc.text(`Route: ${selectedSchedule.destination.fromLocation} - ${selectedSchedule.destination.toLocation}`, 20, 120);\r\n\r\n    doc.text(`Time: ${selectedSchedule.time || \"-\"}`, 20, 127);\r\n    doc.text(`Date: ${selectedSchedule.date ? new Date(selectedSchedule.date).toLocaleDateString() : \"-\"}`, 20, 134);\r\n\r\n    doc.text(`Bus: ${ticket.busPlateNo || \"-\"}`, 20, 141);\r\n    doc.text(`Seat: ${ticket.seatNo || \"-\"}`, 80, 141);\r\n\r\n    if (ticket.payState === \"PAID\") {\r\n      doc.setFillColor(76, 175, 80);\r\n    } else {\r\n      doc.setFillColor(244, 67, 54);\r\n    }\r\n    doc.roundedRect(20, 148, 50, 8, 4, 4, 'F');\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.text(`Status: ${ticket.payState || \"PENDING\"}`, 45, 153, { align: \"center\" });\r\n\r\n    doc.setFontSize(10);\r\n    doc.setTextColor(0, 0, 0);\r\n    doc.text(`Price: ${ticket.totalAmount || 0} Rwf`, 100, 153);\r\n\r\n    doc.setFillColor(74, 107, 136);\r\n    doc.rect(0, 165, 210, 15, 'F');\r\n\r\n    doc.setFontSize(11);\r\n    doc.setTextColor(255, 255, 255);\r\n    doc.text(\"Powered By TEGABUS\", 105, 172, { align: \"center\" });\r\n\r\n    doc.setFillColor(44, 62, 80);\r\n    for (let i = 0; i < 210; i += 10) {\r\n      doc.circle(i, 180, 1, 'F');\r\n    }\r\n\r\n    doc.setFontSize(8);\r\n    doc.setTextColor(150, 150, 150);\r\n    doc.text(\"Please present this ticket during boarding • Please come early if you delay Ticket will be Expired • Thank you for traveling with us!\", 105, 185, { align: \"center\" });\r\n\r\n    doc.text(\"Generated on \" + new Date().toLocaleString(), 105, 190, { align: \"center\" });\r\n\r\n    try {\r\n      doc.addImage(logoUrl, \"PNG\", 175, 3, 25, 20, undefined, 'FAST');\r\n    } catch (error) {\r\n      console.error(\"Error adding logo to PDF:\", error);\r\n    }\r\n\r\n    doc.save(`ticket_${ticket.ticketNumber || \"unknown\"}.pdf`);\r\n\r\n    const pdfOutput = doc.output(\"bloburl\");\r\n    const printWindow = window.open(pdfOutput);\r\n    if (printWindow) {\r\n      printWindow.onload = () => {\r\n        printWindow.print();\r\n        setTimeout(() => {\r\n          printWindow.close();\r\n        }, 500);\r\n      };\r\n    } else {\r\n      console.error(\"Failed to open print window. Ensure pop-ups are allowed.\");\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setTicketData({ ...ticketData, [name]: value });\r\n  };\r\n\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  if (!ticketData.seatNo) {\r\n    return alert(\"No seats available for the selected schedule.\");\r\n  }\r\n\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n\r\n    const payload = {\r\n      ticketNumber: ticketData.ticketNumber,\r\n      names: ticketData.names,\r\n      phone: ticketData.phone,\r\n      express: { id: ticketData.express },\r\n      schedule: { id: ticketData.schedule },\r\n      busPlateNo: ticketData.busPlateNo,\r\n      seatNo: parseInt(ticketData.seatNo),\r\n      totalAmount: parseFloat(ticketData.totalAmount),\r\n      payState: ticketData.payState,\r\n    };\r\n\r\n    console.log(\"Payload sent to backend:\", payload);\r\n\r\n    const response = await fetch(\"http://localhost:5000/api/tickets/register\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorText = await response.text();\r\n      throw new Error(errorText || \"Failed to save ticket\");\r\n    }\r\n\r\n    const savedTicket = await response.json();\r\n    alert(\"Ticket added successfully!\");\r\n \r\n    if (savedTicket.payState !== \"PENDING\") {\r\n      await generatePDF(savedTicket);\r\n    }\r\n\r\n    history.push(\"/admin/tickets\");\r\n  } catch (error) {\r\n    console.error(error);\r\n    alert(\"Error saving ticket: \" + error.message);\r\n  }\r\n};\r\n\r\n  const handleCancel = () => history.push(\"/admin/tickets\");\r\n\r\n  if (loading) return <p className=\"text-center p-6\">Loading...</p>;\r\n\r\n  return (\r\n    <div className=\"flex flex-wrap\">\r\n      <div className=\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto\">\r\n        <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0\">\r\n          <div className=\"rounded-t bg-white mb-0 px-6 py-6 flex justify-between items-center\">\r\n            <h6 className=\"text-blueGray-700 text-xl font-bold\">Add New Ticket</h6>\r\n            <button\r\n              onClick={handleCancel}\r\n              className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\r\n            >\r\n              Back\r\n            </button>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mx-6 mt-4\">\r\n              <strong className=\"font-bold\">Error: </strong>\r\n              <span className=\"block sm:inline\">{error}</span>\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Passenger Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"names\"\r\n                  value={ticketData.names}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\"\r\n                />\r\n              </div>\r\n\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Phone *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  value={ticketData.phone}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\"\r\n                />\r\n              </div>\r\n\r\n              {role === \"SUPER_ADMIN\" && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Express *</label>\r\n                  <select\r\n                    name=\"express\"\r\n                    value={ticketData.express}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\"\r\n                  >\r\n                    <option value=\"\">Select Express</option>\r\n                    {expressList.map((exp) => (\r\n                      <option key={exp.id} value={exp.id}>{exp.expressName}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Schedule *</label>\r\n                <select\r\n                  name=\"schedule\"\r\n                  value={ticketData.schedule}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\"\r\n                >\r\n                  <option value=\"\">Select Schedule</option>\r\n                  {scheduleList.map((sch) => (\r\n                    <option key={sch.id} value={sch.id}>\r\n                      {sch.destination.fromLocation} - {sch.destination.toLocation} ({sch.date} {sch.time})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Bus Plate Number *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"busPlateNo\"\r\n                  value={ticketData.busPlateNo}\r\n                  readOnly\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Seat Number * (Available: {availableSeats})\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"seatNo\"\r\n                  value={ticketData.seatNo || \"\"}\r\n                  readOnly\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Cost *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"totalAmount\"\r\n                  value={ticketData.totalAmount}\r\n                  readOnly\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Payment Status *</label>\r\n                <select\r\n                  name=\"payState\"\r\n                  value={ticketData.payState}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg\"\r\n                >\r\n                  <option value=\"PENDING\">Pending</option>\r\n                  <option value=\"PAID\">Paid</option>\r\n                </select>\r\n              </div>\r\n \r\n            </div>\r\n\r\n            <div className=\"flex justify-end space-x-4 pt-6 border-t border-gray-200\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleCancel}\r\n                className=\"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>&nbsp; &nbsp; &nbsp;\r\n              <button\r\n                type=\"submit\"\r\n                className=\"px-6 py-3 bg-black text-white rounded-lg hover:bg-black-700 transition-colors\"\r\n                disabled={availableSeats === 0}\r\n              >\r\n                <i className=\"fas fa-ticket-alt mr-2\"></i> Save\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}