{"ast":null,"code":"import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const history=useHistory();const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const handleLogin=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:5000/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email,password})});if(!response.ok){throw new Error(\"Invalid credentials\");}const data=await response.json();localStorage.setItem(\"token\",data.token);localStorage.setItem(\"user\",JSON.stringify(data));localStorage.setItem(\"userId\",data.id);localStorage.setItem(\"expressId\",data.express_id);history.push(\"/admin\");}catch(error){alert(error.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex content-center items-center justify-center h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full lg:w-4/12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-t mb-0 px-6 py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-blueGray-500 text-sm font-bold\",children:\"Sign in\"})}),/*#__PURE__*/_jsx(\"hr\",{className:\"mt-6 border-b-1 border-blueGray-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-auto px-4 lg:px-10 py-10 pt-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blueGray-400 text-center mb-3 font-bold\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Sign in with your credentials\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-blueGray-600 text-xs font-bold mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),className:\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full\",placeholder:\"Email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block uppercase text-blueGray-600 text-xs font-bold mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),className:\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full\",placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg w-full\",type:\"submit\",children:\"Sign In\"})})]})]})]})})})});}","map":{"version":3,"names":["React","useState","useHistory","jsx","_jsx","jsxs","_jsxs","Login","history","email","setEmail","password","setPassword","handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","data","json","localStorage","setItem","token","id","express_id","push","error","alert","message","className","children","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/src/views/auth/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Login() {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(\"http://localhost:5000/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n      if (!response.ok) {\n        throw new Error(\"Invalid credentials\");\n      }\n\n      const data = await response.json();\n       \n      localStorage.setItem(\"token\", data.token);  \n      localStorage.setItem(\"user\", JSON.stringify(data));\n      localStorage.setItem(\"userId\", data.id);   \n      localStorage.setItem(\"expressId\", data.express_id);\n \n      history.push(\"/admin\");\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 h-full\">\n      <div className=\"flex content-center items-center justify-center h-full\">\n        <div className=\"w-full lg:w-4/12 px-4\">\n          <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0\">\n            <div className=\"rounded-t mb-0 px-6 py-6\">\n              <div className=\"text-center mb-3\">\n                <h6 className=\"text-blueGray-500 text-sm font-bold\">Sign in</h6>\n              </div>\n              <hr className=\"mt-6 border-b-1 border-blueGray-300\" />\n            </div>\n            <div className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\n              <div className=\"text-blueGray-400 text-center mb-3 font-bold\">\n                <small>Sign in with your credentials</small>\n              </div>\n              <form onSubmit={handleLogin}>\n                <div className=\"relative w-full mb-3\">\n                  <label className=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\">Email</label>\n                  <input\n                    type=\"email\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    className=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full\"\n                    placeholder=\"Email\"\n                    required\n                  />\n                </div>\n\n                <div className=\"relative w-full mb-3\">\n                  <label className=\"block uppercase text-blueGray-600 text-xs font-bold mb-2\">Password</label>\n                  <input\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    className=\"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full\"\n                    placeholder=\"Password\"\n                    required\n                  />\n                </div>\n\n                <div className=\"text-center mt-6\">\n                  <button\n                    className=\"bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg w-full\"\n                    type=\"submit\"\n                  >\n                    Sign In\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,KAAM,CAAAC,OAAO,CAAGN,UAAU,CAAC,CAAC,CAC5B,KAAM,CAACO,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAY,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,sCAAsC,CAAE,CACnEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEb,KAAK,CAAEE,QAAS,CAAC,CAC1C,CAAC,CAAC,CACF,GAAI,CAACK,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,qBAAqB,CAAC,CACxC,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAElCC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,IAAI,CAACI,KAAK,CAAC,CACzCF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEP,IAAI,CAACC,SAAS,CAACG,IAAI,CAAC,CAAC,CAClDE,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAEH,IAAI,CAACK,EAAE,CAAC,CACvCH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAEH,IAAI,CAACM,UAAU,CAAC,CAElDvB,OAAO,CAACwB,IAAI,CAAC,QAAQ,CAAC,CACxB,CAAE,MAAOC,KAAK,CAAE,CACdC,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC,CACtB,CACF,CAAC,CAED,mBACE/B,IAAA,QAAKgC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5CjC,IAAA,QAAKgC,SAAS,CAAC,wDAAwD,CAAAC,QAAA,cACrEjC,IAAA,QAAKgC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC/B,KAAA,QAAK8B,SAAS,CAAC,sGAAsG,CAAAC,QAAA,eACnH/B,KAAA,QAAK8B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvCjC,IAAA,QAAKgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BjC,IAAA,OAAIgC,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,SAAO,CAAI,CAAC,CAC7D,CAAC,cACNjC,IAAA,OAAIgC,SAAS,CAAC,qCAAqC,CAAE,CAAC,EACnD,CAAC,cACN9B,KAAA,QAAK8B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eACjDjC,IAAA,QAAKgC,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC3DjC,IAAA,UAAAiC,QAAA,CAAO,+BAA6B,CAAO,CAAC,CACzC,CAAC,cACN/B,KAAA,SAAMgC,QAAQ,CAAEzB,WAAY,CAAAwB,QAAA,eAC1B/B,KAAA,QAAK8B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjC,IAAA,UAAOgC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cACzFjC,IAAA,UACEmC,IAAI,CAAC,OAAO,CACZC,KAAK,CAAE/B,KAAM,CACbgC,QAAQ,CAAG3B,CAAC,EAAKJ,QAAQ,CAACI,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE,CAC1CJ,SAAS,CAAC,oIAAoI,CAC9IO,WAAW,CAAC,OAAO,CACnBC,QAAQ,MACT,CAAC,EACC,CAAC,cAENtC,KAAA,QAAK8B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCjC,IAAA,UAAOgC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC5FjC,IAAA,UACEmC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAE7B,QAAS,CAChB8B,QAAQ,CAAG3B,CAAC,EAAKF,WAAW,CAACE,CAAC,CAAC4B,MAAM,CAACF,KAAK,CAAE,CAC7CJ,SAAS,CAAC,oIAAoI,CAC9IO,WAAW,CAAC,UAAU,CACtBC,QAAQ,MACT,CAAC,EACC,CAAC,cAENxC,IAAA,QAAKgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BjC,IAAA,WACEgC,SAAS,CAAC,+HAA+H,CACzIG,IAAI,CAAC,QAAQ,CAAAF,QAAA,CACd,SAED,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,EACJ,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}