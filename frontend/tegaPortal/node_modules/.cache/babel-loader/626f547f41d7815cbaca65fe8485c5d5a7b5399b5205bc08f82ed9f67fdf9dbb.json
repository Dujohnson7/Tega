{"ast":null,"code":"import _objectSpread from\"D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ExpressAdd(){const history=useHistory();const[expressData,setExpressData]=useState({expressName:\"\",expressDescription:\"\",expressLogo:null,expressProfile:null});const handleInputChange=e=>{const{name,value}=e.target;setExpressData(_objectSpread(_objectSpread({},expressData),{},{[name]:value}));};const handleFileChange=e=>{const{name,files}=e.target;setExpressData(_objectSpread(_objectSpread({},expressData),{},{[name]:files[0]}));};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append(\"expressName\",expressData.expressName);formData.append(\"expressDescription\",expressData.expressDescription);if(expressData.expressLogo)formData.append(\"expressLogo\",expressData.expressLogo);if(expressData.expressProfile)formData.append(\"expressProfile\",expressData.expressProfile);try{const token=localStorage.getItem(\"token\");const response=await fetch(\"http://localhost:5000/api/express/register\",{method:\"POST\",headers:{\"Authorization\":\"Bearer \".concat(token)},body:formData});if(!response.ok){const errorData=await response.text();throw new Error(errorData||\"Failed to save express\");}const savedExpress=await response.json();console.log(\"Saved Express:\",savedExpress);alert(\"Express route added successfully!\");history.push(\"/admin/express\");}catch(error){console.error(\"Error saving express:\",error);alert(\"Failed to save express: \"+error.message);}};const handleCancel=()=>{history.push(\"/admin/express\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-t bg-white mb-0 px-6 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex justify-between\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-blueGray-700 text-xl font-bold\",children:\"Add Registration\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,className:\"bg-red-500 text-white active:bg-red-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150\",type:\"button\",children:\"Back\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex-auto px-4 lg:px-10 py-10 pt-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Express Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"expressName\",value:expressData.expressName,onChange:handleInputChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter express name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Logo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"expressLogo\",onChange:handleFileChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Bus Profile *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"expressProfile\",onChange:handleFileChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"expressDescription\",value:expressData.expressDescription,onChange:handleInputChange,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter express description\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCancel,className:\"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\",children:\"Cancel\"}),\" \\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save mr-2\"}),\"Save\"]})]})]})]})})})});}","map":{"version":3,"names":["React","useState","useHistory","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ExpressAdd","history","expressData","setExpressData","expressName","expressDescription","expressLogo","expressProfile","handleInputChange","e","name","value","target","_objectSpread","handleFileChange","files","handleSubmit","preventDefault","formData","FormData","append","token","localStorage","getItem","response","fetch","method","headers","concat","body","ok","errorData","text","Error","savedExpress","json","console","log","alert","push","error","message","handleCancel","children","className","onClick","type","onSubmit","onChange","placeholder","required"],"sources":["D:/AUCA/AUCA INNOVATION CENTER/WebTech/Final/TegaBus/frontend/tegaPortal/src/views/admin/ExpressAdd.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function ExpressAdd() {\r\n  const history = useHistory();\r\n  \r\n  const [expressData, setExpressData] = useState({\r\n    expressName: \"\",\r\n    expressDescription: \"\",\r\n    expressLogo: null,\r\n    expressProfile: null,\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setExpressData({\r\n      ...expressData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const { name, files } = e.target;\r\n    setExpressData({\r\n      ...expressData,\r\n      [name]: files[0], \r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"expressName\", expressData.expressName);\r\n    formData.append(\"expressDescription\", expressData.expressDescription);\r\n    if (expressData.expressLogo) formData.append(\"expressLogo\", expressData.expressLogo);\r\n    if (expressData.expressProfile) formData.append(\"expressProfile\", expressData.expressProfile);\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await fetch(\"http://localhost:5000/api/express/register\", {\r\n        method: \"POST\",\r\n        headers: { \r\n         \"Authorization\": `Bearer ${token}`,\r\n       },\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.text();\r\n        throw new Error(errorData || \"Failed to save express\");\r\n      }\r\n\r\n      const savedExpress = await response.json();\r\n      console.log(\"Saved Express:\", savedExpress);\r\n      alert(\"Express route added successfully!\");\r\n      history.push(\"/admin/express\");\r\n    \r\n    } catch (error) {\r\n      console.error(\"Error saving express:\", error);\r\n      alert(\"Failed to save express: \" + error.message);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    history.push(\"/admin/express\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n    {/* Express Add */}\r\n      <div className=\"flex flex-wrap\">\r\n        <div className=\"w-full xl:w-8/12 mb-12 xl:mb-0 px-4 mx-auto\">\r\n          <div className=\"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0\">\r\n            <div className=\"rounded-t bg-white mb-0 px-6 py-6\">\r\n              <div className=\"text-center flex justify-between\">\r\n                <h6 className=\"text-blueGray-700 text-xl font-bold\">Add Registration</h6>\r\n                <button\r\n                  onClick={handleCancel}\r\n                  className=\"bg-red-500 text-white active:bg-red-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150\"\r\n                  type=\"button\"\r\n                >\r\n                  Back\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"flex-auto px-4 lg:px-10 py-10 pt-0\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Express Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"expressName\"\r\n                    value={expressData.expressName}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter express name\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Logo *\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"expressLogo\"\r\n                    onChange={handleFileChange}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Bus Profile *\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"expressProfile\"\r\n                    onChange={handleFileChange}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Description *\r\n                  </label>\r\n                  <textarea\r\n                    name=\"expressDescription\"\r\n                    value={expressData.expressDescription}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter express description\"\r\n                    required\r\n                  ></textarea>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end space-x-4 pt-6 border-t border-gray-200\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleCancel}\r\n                  className=\"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button> &nbsp;&nbsp;&nbsp;\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-700 transition-colors\"\r\n                >\r\n                  <i className=\"fas fa-save mr-2\"></i>\r\n                  Save \r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}